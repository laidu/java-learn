<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2018-03-23 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>dev-ops &#x2013; dstat 命令使用</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                dev-ops
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
          
                <div class="xleft">
        <span id="publishDate">Last Published: 2018-03-23</span>
                  &nbsp;| <span id="projectVersion">Version: 1.0-SNAPSHOT</span>
                      </div>
            <div class="xright">                    <a href="./" title="dev-ops">dev-ops</a>
            
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
           
                                <h5>Parent Project</h5>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="java-learn">java-learn</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                        <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                      <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                 
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <h1>dstat &#x547d;&#x4ee4;&#x4f7f;&#x7528;</h1>
<div class="section">
<h2><a name="a1_"></a>1 &#x7b80;&#x4ecb;</h2>

<blockquote>
<p>dstat &#x662f;&#x4e00;&#x4e2a;&#x53ef;&#x4ee5;&#x53d6;&#x4ee3;vmstat&#xff0c;iostat&#xff0c;netstat&#x548c;ifstat&#x8fd9;&#x4e9b;&#x547d;&#x4ee4;&#x7684;&#x591a;&#x529f;&#x80fd;&#x4ea7;&#x54c1;&#x3002;dstat&#x514b;&#x670d;&#x4e86;&#x8fd9;&#x4e9b;&#x547d;&#x4ee4;&#x7684;&#x5c40;&#x9650;&#x5e76;&#x589e;&#x52a0;&#x4e86;&#x4e00;&#x4e9b;&#x53e6;&#x5916;&#x7684;&#x529f;&#x80fd;&#xff0c;&#x589e;&#x52a0;&#x4e86;&#x76d1;&#x63a7;&#x9879;&#xff0c;&#x4e5f;&#x53d8;&#x5f97;&#x66f4;&#x7075;&#x6d3b;&#x4e86;&#x3002;dstat&#x53ef;&#x4ee5;&#x5f88;&#x65b9;&#x4fbf;&#x76d1;&#x63a7;&#x7cfb;&#x7edf;&#x8fd0;&#x884c;&#x72b6;&#x51b5;&#x5e76;&#x7528;&#x4e8e;&#x57fa;&#x51c6;&#x6d4b;&#x8bd5;&#x548c;&#x6392;&#x9664;&#x6545;&#x969c;&#x3002;&#x8be6;&#x60c5;&#x53c2;&#x8003;&#xff1a;<a class="externalLink" href="https://linux.die.net/man/1/dstat">linux-man-page</a></p></div>
<div class="section">
<h2><a name="a2_"></a>2 &#x529f;&#x80fd;</h2>
  
<ul>
    
<li>&#x5b9e;&#x65f6;&#x67e5;&#x770b;&#x7cfb;&#x7edf;&#x8d44;&#x6e90;&#xff0c;&#x5982;&#x78c1;&#x76d8;IO&#x3001;&#x7f51;&#x7edc;IO&#x3001;CPU&#x4f7f;&#x7528;&#x7387;&#x3001;&#x5185;&#x5b58;&#x7b49;&#xff1b;<br /></li>
    
<li>&#x652f;&#x6301;&#x8f93;&#x51fa;CSV&#x683c;&#x5f0f;&#x62a5;&#x8868;&#xff0c;&#x5e76;&#x80fd;&#x5bfc;&#x5165;&#x5230;Gnumeric&#x548c;Excel&#x4ee5;&#x751f;&#x6210;&#x56fe;&#x5f62;</li>
    
<li>&#x4f7f;&#x7528;python&#x7f16;&#x5199;&#x7684;&#xff0c;&#x66f4;&#x65b9;&#x4fbf;&#x6269;&#x5c55;&#x73b0;&#x6709;&#x7684;&#x5de5;&#x4f5c;&#x4efb;&#x52a1;</li>
    
<li>&#x5728;&#x5206;&#x6790;&#x548c;&#x6392;&#x969c;&#x65f6;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x542f;&#x7528;&#x76d1;&#x63a7;&#x9879;&#x5e76;&#x6392;&#x5e8f;</li>
    
<li>
<p>&#x6781;&#x51c6;&#x786e;&#x7684;&#x65f6;&#x95f4;&#x7cbe;&#x5ea6;&#xff0c;&#x5373;&#x4fbf;&#x662f;&#x7cfb;&#x7edf;&#x8d1f;&#x8377;&#x8f83;&#x9ad8;&#x4e5f;&#x4e0d;&#x4f1a;&#x5ef6;&#x8fdf;&#x663e;&#x793a;</p></div>
<div class="section">
<h2><a name="a3_"></a>3 &#x7528;&#x6cd5;</h2>
<div class="section">
<h3><a name="a3.1_"></a>3.1 &#x57fa;&#x672c;&#x7528;&#x6cd5;</h3>
    
<div class="source">
<div class="source">
<pre>dstat
</pre></div></div>![](images/dstat.png)</li>
  </ul>
</blockquote>
<p><b>CPU&#x72b6;&#x6001;&#xff1a;</b> CPU&#x7684;&#x4f7f;&#x7528;&#x7387;&#x3002;&#x8fd9;&#x9879;&#x62a5;&#x544a;&#x66f4;&#x6709;&#x8da3;&#x7684;&#x90e8;&#x5206;&#x662f;&#x663e;&#x793a;&#x4e86;&#x7528;&#x6237;&#xff0c;&#x7cfb;&#x7edf;&#x548c;&#x7a7a;&#x95f2;&#x90e8;&#x5206;&#xff0c;&#x8fd9;&#x66f4;&#x597d;&#x5730;&#x5206;&#x6790;&#x4e86;CPU&#x5f53;&#x524d;&#x7684;&#x4f7f;&#x7528;&#x72b6;&#x51b5;&#x3002;&#x5982;&#x679c;&#x4f60;&#x770b;&#x5230;&#x201c;wait&#x201d;&#x4e00;&#x680f;&#x4e2d;&#xff0c;CPU&#x7684;&#x72b6;&#x6001;&#x662f;&#x4e00;&#x4e2a;&#x9ad8;&#x4f7f;&#x7528;&#x7387;&#x503c;&#xff0c;&#x90a3;&#x8bf4;&#x660e;&#x7cfb;&#x7edf;&#x5b58;&#x5728;&#x4e00;&#x4e9b;&#x5176;&#x5b83;&#x95ee;&#x9898;&#x3002;&#x5f53;CPU&#x7684;&#x72b6;&#x6001;&#x5904;&#x5728;&#x201c;waits&#x201d;&#x65f6;&#xff0c;&#x90a3;&#x662f;&#x56e0;&#x4e3a;&#x5b83;&#x6b63;&#x5728;&#x7b49;&#x5f85;I/O&#x8bbe;&#x5907;&#xff08;&#x4f8b;&#x5982;&#x5185;&#x5b58;&#xff0c;&#x78c1;&#x76d8;&#x6216;&#x8005;&#x7f51;&#x7edc;&#xff09;&#x7684;&#x54cd;&#x5e94;&#x800c;&#x4e14;&#x8fd8;&#x6ca1;&#x6709;&#x6536;&#x5230;&#x3002;<br /> <b>&#x78c1;&#x76d8;&#x7edf;&#x8ba1;&#xff1a;</b> &#x78c1;&#x76d8;&#x7684;&#x8bfb;&#x5199;&#x64cd;&#x4f5c;&#xff0c;&#x8fd9;&#x4e00;&#x680f;&#x663e;&#x793a;&#x78c1;&#x76d8;&#x7684;&#x8bfb;&#x3001;&#x5199;&#x603b;&#x6570;&#x3002;<br /> <b>&#x7f51;&#x7edc;&#x7edf;&#x8ba1;&#xff1a;</b> &#x7f51;&#x7edc;&#x8bbe;&#x5907;&#x53d1;&#x9001;&#x548c;&#x63a5;&#x53d7;&#x7684;&#x6570;&#x636e;&#xff0c;&#x8fd9;&#x4e00;&#x680f;&#x663e;&#x793a;&#x7684;&#x7f51;&#x7edc;&#x6536;&#x3001;&#x53d1;&#x6570;&#x636e;&#x603b;&#x6570;&#x3002;<br /> <b>&#x5206;&#x9875;&#x7edf;&#x8ba1;&#xff1a;</b> &#x7cfb;&#x7edf;&#x7684;&#x5206;&#x9875;&#x6d3b;&#x52a8;&#x3002;&#x5206;&#x9875;&#x6307;&#x7684;&#x662f;&#x4e00;&#x79cd;&#x5185;&#x5b58;&#x7ba1;&#x7406;&#x6280;&#x672f;&#x7528;&#x4e8e;&#x67e5;&#x627e;&#x7cfb;&#x7edf;&#x573a;&#x666f;&#xff0c;&#x4e00;&#x4e2a;&#x8f83;&#x5927;&#x7684;&#x5206;&#x9875;&#x8868;&#x660e;&#x7cfb;&#x7edf;&#x6b63;&#x5728;&#x4f7f;&#x7528;&#x5927;&#x91cf;&#x7684;&#x4ea4;&#x6362;&#x7a7a;&#x95f4;&#xff0c;&#x6216;&#x8005;&#x8bf4;&#x5185;&#x5b58;&#x975e;&#x5e38;&#x5206;&#x6563;&#xff0c;&#x5927;&#x591a;&#x6570;&#x60c5;&#x51b5;&#x4e0b;&#x4f60;&#x90fd;&#x5e0c;&#x671b;&#x770b;&#x5230;page in&#xff08;&#x6362;&#x5165;&#xff09;&#x548c;page out&#xff08;&#x6362;&#x51fa;&#xff09;&#x7684;&#x503c;&#x662f;0 0&#x3002;<br /> <b>&#x7cfb;&#x7edf;&#x7edf;&#x8ba1;&#xff1a;</b> &#x8fd9;&#x4e00;&#x9879;&#x663e;&#x793a;&#x7684;&#x662f;&#x4e2d;&#x65ad;&#xff08;int&#xff09;&#x548c;&#x4e0a;&#x4e0b;&#x6587;&#x5207;&#x6362;&#xff08;csw&#xff09;&#x3002;&#x8fd9;&#x9879;&#x7edf;&#x8ba1;&#x4ec5;&#x5728;&#x6709;&#x6bd4;&#x8f83;&#x57fa;&#x7ebf;&#x65f6;&#x624d;&#x6709;&#x610f;&#x4e49;&#x3002;&#x8fd9;&#x4e00;&#x680f;&#x4e2d;&#x8f83;&#x9ad8;&#x7684;&#x7edf;&#x8ba1;&#x503c;&#x901a;&#x5e38;&#x8868;&#x793a;&#x5927;&#x91cf;&#x7684;&#x8fdb;&#x7a0b;&#x9020;&#x6210;&#x62e5;&#x585e;&#xff0c;&#x9700;&#x8981;&#x5bf9;CPU&#x8fdb;&#x884c;&#x5173;&#x6ce8;&#x3002;&#x4f60;&#x7684;&#x670d;&#x52a1;&#x5668;&#x4e00;&#x822c;&#x60c5;&#x51b5;&#x4e0b;&#x90fd;&#x4f1a;&#x8fd0;&#x884c;&#x8fd0;&#x884c;&#x4e00;&#x4e9b;&#x7a0b;&#x5e8f;&#xff0c;&#x6240;&#x4ee5;&#x8fd9;&#x9879;&#x603b;&#x662f;&#x663e;&#x793a;&#x4e00;&#x4e9b;&#x6570;&#x503c;&#x3002;<br /></p>

<blockquote>
<p>&#x9ed8;&#x8ba4;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;dstat&#x6bcf;&#x79d2;&#x90fd;&#x4f1a;&#x5237;&#x65b0;&#x6570;&#x636e;&#x3002;&#x5982;&#x679c;&#x60f3;&#x9000;&#x51fa;dstat&#xff0c;&#x4f60;&#x53ef;&#x4ee5;&#x6309;&#x201c;CTRL-C&#x201d;&#x952e;&#x3002;<br /></p>
</blockquote></div>
<div class="section">
<h3><a name="a3.2_"></a>3.2 &#x5e38;&#x7528;&#x53c2;&#x6570;</h3>

<ul>
  
<li>-l &#xff1a;&#x663e;&#x793a;&#x8d1f;&#x8f7d;&#x7edf;&#x8ba1;&#x91cf;</li>
  
<li>-m &#xff1a;&#x663e;&#x793a;&#x5185;&#x5b58;&#x4f7f;&#x7528;&#x7387;&#xff08;&#x5305;&#x62ec;used&#xff0c;buffer&#xff0c;cache&#xff0c;free&#x503c;&#xff09;</li>
  
<li>-r &#xff1a;&#x663e;&#x793a;I/O&#x7edf;&#x8ba1;</li>
  
<li>-s &#xff1a;&#x663e;&#x793a;&#x4ea4;&#x6362;&#x5206;&#x533a;&#x4f7f;&#x7528;&#x60c5;&#x51b5;</li>
  
<li>-t &#xff1a;&#x5c06;&#x5f53;&#x524d;&#x65f6;&#x95f4;&#x663e;&#x793a;&#x5728;&#x7b2c;&#x4e00;&#x884c;</li>
  
<li>-fs &#xff1a;&#x663e;&#x793a;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;&#x7edf;&#x8ba1;&#x6570;&#x636e;&#xff08;&#x5305;&#x62ec;&#x6587;&#x4ef6;&#x603b;&#x6570;&#x91cf;&#x548c;inodes&#x503c;&#xff09;</li>
  
<li>&#x2013;nocolor &#xff1a;&#x4e0d;&#x663e;&#x793a;&#x989c;&#x8272;&#xff08;&#x6709;&#x65f6;&#x5019;&#x6709;&#x7528;&#xff09;</li>
  
<li>&#x2013;socket &#xff1a;&#x663e;&#x793a;&#x7f51;&#x7edc;&#x7edf;&#x8ba1;&#x6570;&#x636e;</li>
  
<li>&#x2013;tcp &#xff1a;&#x663e;&#x793a;&#x5e38;&#x7528;&#x7684;TCP&#x7edf;&#x8ba1;</li>
  
<li>&#x2013;udp &#xff1a;&#x663e;&#x793a;&#x76d1;&#x542c;&#x7684;UDP&#x63a5;&#x53e3;&#x53ca;&#x5176;&#x5f53;&#x524d;&#x7528;&#x91cf;&#x7684;&#x4e00;&#x4e9b;&#x52a8;&#x6001;&#x6570;&#x636e;</li>
</ul></div>
<div class="section">
<h3><a name="a3.3_"></a>3.3 &#x5e38;&#x7528;&#x63d2;&#x4ef6;</h3>

<blockquote>
<p>dstat&#x9644;&#x5e26;&#x4e86;&#x4e00;&#x4e9b;&#x63d2;&#x4ef6;&#x5f88;&#x5927;&#x7a0b;&#x5ea6;&#x5730;&#x6269;&#x5c55;&#x4e86;&#x5b83;&#x7684;&#x529f;&#x80fd;&#x3002;&#x4f60;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x67e5;&#x770b;/usr/share/dstat&#x76ee;&#x5f55;&#x6765;&#x67e5;&#x770b;&#x5b83;&#x4eec;&#x7684;&#x4e00;&#x4e9b;&#x4f7f;&#x7528;&#x65b9;&#x6cd5;&#xff0c;&#x5e38;&#x7528;&#x7684;&#x6709;&#x8fd9;&#x4e9b;&#xff1a;</p>
</blockquote>

<ul>
  
<li>&#x2013;disk-util &#xff1a;&#x663e;&#x793a;&#x67d0;&#x4e00;&#x65f6;&#x95f4;&#x78c1;&#x76d8;&#x7684;&#x5fd9;&#x788c;&#x72b6;&#x51b5;</li>
  
<li>&#x2013;freespace &#xff1a;&#x663e;&#x793a;&#x5f53;&#x524d;&#x78c1;&#x76d8;&#x7a7a;&#x95f4;&#x4f7f;&#x7528;&#x7387;</li>
  
<li>&#x2013;proc-count &#xff1a;&#x663e;&#x793a;&#x6b63;&#x5728;&#x8fd0;&#x884c;&#x7684;&#x7a0b;&#x5e8f;&#x6570;&#x91cf;</li>
  
<li>&#x2013;top-bio &#xff1a;&#x6307;&#x51fa;&#x5757;I/O&#x6700;&#x5927;&#x7684;&#x8fdb;&#x7a0b;</li>
  
<li>&#x2013;top-cpu &#xff1a;&#x56fe;&#x5f62;&#x5316;&#x663e;&#x793a;CPU&#x5360;&#x7528;&#x6700;&#x5927;&#x7684;&#x8fdb;&#x7a0b;</li>
  
<li>&#x2013;top-io &#xff1a;&#x663e;&#x793a;&#x6b63;&#x5e38;I/O&#x6700;&#x5927;&#x7684;&#x8fdb;&#x7a0b;</li>
  
<li>&#x2013;top-mem &#xff1a;&#x663e;&#x793a;&#x5360;&#x7528;&#x6700;&#x591a;&#x5185;&#x5b58;&#x7684;&#x8fdb;&#x7a0b;</li>
</ul></div>
<div class="section">
<h3><a name="a3.4_"></a>3.4 &#x793a;&#x4f8b;</h3>

<ul>
  
<li>&#x67e5;&#x770b;&#x5168;&#x90e8;&#x5185;&#x5b58;&#x90fd;&#x6709;&#x8c01;&#x5728;&#x5360;&#x7528;&#xff1a; <tt>bash
dstat -g -l -m -s --top-mem
</tt> ![](images/dstat-top-mem.png)</li>
  
<li>&#x663e;&#x793a;&#x4e00;&#x4e9b;&#x5173;&#x4e8e;CPU&#x8d44;&#x6e90;&#x635f;&#x8017;&#x7684;&#x6570;&#x636e;&#xff1a; <tt>bash
dstat -c -y -l --proc-count --top-cpu
</tt> ![](images/dstat-top-cpu.png)</li>
  
<li>&#x60f3;&#x8f93;&#x51fa;&#x4e00;&#x4e2a;csv&#x683c;&#x5f0f;&#x7684;&#x6587;&#x4ef6;&#x7528;&#x4e8e;&#x4ee5;&#x540e;&#xff0c;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x4e0b;&#x9762;&#x7684;&#x547d;&#x4ee4;&#xff1a; <tt>bash
dstat --output /tmp/sampleoutput.csv -cdn
</tt> ![](images/dstat-to-csv.png) &#x53c2;&#x8003;&#xff1a;</li>
  
<li><a class="externalLink" href="https://linux.cn/article-3215-1.html">Linux&#x7ec8;&#x7aef;&#x4e0b; dstat &#x76d1;&#x63a7;&#x5de5;&#x5177;</a></li>
</ul></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2018.
          All rights reserved.    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
